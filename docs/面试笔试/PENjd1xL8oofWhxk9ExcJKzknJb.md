# äºŒã€Java æ•°æ®ç»“æ„

# ä¸€ã€æ¦‚è¿°

## ğŸ“Œ Java å®¹å™¨éƒ½æœ‰å“ªäº›ï¼Ÿ

å¸¸ç”¨å®¹å™¨ï¼š

![](static/boxcnbbxBbM3dpvd4dOerWb2TAy.png)

## ğŸ“Œ å“ªäº›é›†åˆç±»æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Ÿ

- vectorï¼Œå‘é‡ï¼šçº¿ç¨‹å®‰å…¨çš„æ•°ç»„
- Stackï¼Œæ ˆï¼šä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„å®¹å™¨ï¼Œç»§æ‰¿äº† vectorï¼Œçº¿ç¨‹å®‰å…¨ï¼Œç‰¹ç‚¹æ˜¯å…ˆè¿›åå‡º
- HashTableï¼šä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„ mapï¼ˆå…¶çº¿ç¨‹å®‰å…¨æ€§æ˜¯é€šè¿‡ synchronized æ¥å®ç°çš„ï¼‰

# äºŒã€List

## ğŸ“Œ ArrayList åº•å±‚çš„æ•°æ®ç»“æ„

- ArrayList åº•å±‚æ˜¯ä¸€ä¸ª Object ç±»å‹çš„æ•°ç»„
- ArrayList æ¯æ¬¡æ‰©å®¹æ˜¯åŸæ¥çš„ä¸€åŠ

## ğŸ“Œ ArrayList å’Œ LinkedList çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

- ä¸¤è€…éƒ½æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„å®¹å™¨
- ArrayList åº•å±‚ä½¿ç”¨æ•°ç»„ï¼ŒLinkedList åº•å±‚æ˜¯åŒå‘å¾ªç¯é“¾è¡¨

```java
//å­˜å‚¨ArrayListå…ƒç´ çš„æ•°ç»„ç¼“å†²åŒº
private transient Object[] elementData;
```

```kotlin
private static class Node<E> {
    E item;
    Node<E> next;
    Node<E> prev;

    Node(Node<E> prev, E element, Node<E> next) {
        this.item = element;
        this.next = next;
        this.prev = prev;
    }
}
```

- ArrayList æ”¯æŒéšæœºè®¿é—®ï¼ŒlinkedList ä¸æ”¯æŒéšæœºè®¿é—®
- å­˜å‚¨ç»“æ„ä¸Šæ¥è®²ï¼ŒArrayList è¦æ±‚æœ‰è¿ç»­çš„æ•´å—çš„å†…å­˜åŒºåŸŸï¼ŒLinkedList ä¸éœ€è¦
- ä½¿ç”¨ä¸‹æ ‡è®¿é—®å…ƒç´ ï¼ŒArrayList æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ï¼ŒLinkedList æ˜¯ O(n)
- æ·»åŠ æˆ–åˆ é™¤å…ƒç´ æ—¶ï¼ŒArrayList æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼ŒLinkedList æ˜¯ O(1)

```typescript
public boolean add(E e) {
    linkLast(e);
    return true;
}
void linkLast(E e) {
    final Node<E> l = last;
    final Node<E> newNode = new Node<>(l, e, null);
    last = newNode;
    if (l == null)
        first = newNode;
    else
        l.next = newNode;
    size++;
    modCount++;
}
```

## ğŸ“Œ ArrayList çš„æ‰©å®¹æœºåˆ¶

[ArrayList çš„æ‰©å®¹æœºåˆ¶](https://github.com/Snailclimb/JavaGuide/blob/master/docs/java/collection/ArrayList-Grow.md)

# ä¸‰ã€Set

## ğŸ“Œ HashSet åº•å±‚æ•°æ®ç»“æ„

- HashSet åº•å±‚æ˜¯åˆ©ç”¨ HashMap æ¥å­˜å‚¨çš„
- HashSet åœ¨è°ƒç”¨ add æ–¹æ³•æ·»åŠ å…ƒç´ æ—¶ï¼Œå®é™…è°ƒç”¨çš„æ˜¯ Map çš„ put æ–¹æ³•ï¼Œè¢«æ·»åŠ çš„å…ƒç´ ä½œä¸º keyï¼Œvalue æ˜¯ä¸€ä¸ª Object çš„å¸¸é‡

## ğŸ“Œ è¯´ä¸€ä¸‹ HashSet çš„å®ç°åŸç†ï¼Ÿ

- HashSet åº•å±‚ç”± HashMap å®ç°
- HashSet çš„å€¼å­˜æ”¾äº HashMap çš„ key ä¸Š
- HashSet æ— åºï¼Œå…è®¸ null å€¼å­˜å…¥ï¼Œéçº¿ç¨‹å®‰å…¨

# å››ã€Map

## ğŸ“Œ è¯´ä¸€ä¸‹ HashMap çš„å®ç°åŸç†

### æ•°æ®ç»“æ„

- 1.8 ä¸­ï¼šEntry æ•°ç»„ + Entry é“¾è¡¨ + çº¢é»‘æ ‘
- 1.7 ä¸­ï¼šEntry æ•°ç»„ + Entry é“¾è¡¨

### å…ƒç´ æ’å…¥

å…ƒç´ æ’å…¥æµç¨‹å¦‚ä¸‹

![](static/boxcnUZgjoPpQ8yeiAUxlAHOhsg.png)

1. è°ƒç”¨ put æ–¹æ³•ï¼Œåœ¨ put ä¸­è°ƒç”¨ hash æ–¹æ³•è®¡ç®— key çš„ hash å€¼ï¼Œè®¡ç®—å‡º hash å€¼åä¸è¯¥ hash å€¼çš„é«˜ 16 ä½è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œä¿è¯æ•£åˆ—è¶³å¤Ÿå‡åŒ€
2. è°ƒç”¨ putVal æ–¹æ³•è¿›è¡Œå…ƒç´ çš„æ·»åŠ ï¼Œåœ¨ putVal ä¸­ï¼Œå…ˆè®¡ç®—å…ƒç´ ä¸‹æ ‡ï¼šindex = (n - 1) & hash
3. æ ¹æ®ä¸‹æ ‡å…ˆæ£€æŸ¥è¯¥ä¸‹æ ‡çš„ä½ç½®æ˜¯å¦ä¸ºç©ºï¼Œè‹¥ä¸ºç©ºï¼Œåˆ™ç›´æ¥æ·»åŠ å…ƒç´ ï¼›è‹¥ä¸ä¸ºç©ºï¼Œåˆ™è¯´æ˜å‘ç”Ÿäº† hash å†²çª
4. è‹¥å‘ç”Ÿ hash å†²çªï¼Œå…ˆåˆ¤æ–­ key æ˜¯å¦ç›¸åŒï¼Œåˆ¤æ–­çš„æ¡ä»¶æœ‰ä¸¤ä¸ªï¼šä¸€æ˜¯ key çš„ hashCode æ˜¯å¦ç›¸åŒï¼ŒäºŒæ˜¯ key çš„ equals æ–¹æ³•æ˜¯å¦ç›¸åŒï¼Œè¿™æ ·å°±è¯´æ˜äº†ä¸ºä»€ä¹ˆè‡ªå·±å®šä¹‰çš„ç±»å¿…é¡»é‡å†™ hashCode å’Œ equals æ–¹æ³•ï¼›å¦‚æœ key ç›¸åŒï¼Œåˆ™ç›´æ¥æ›¿æ¢ value
5. Key ä¸ç›¸åŒï¼Œéå†è¯¥ä½ç½®èŠ‚ç‚¹ï¼Œå¦‚æœæ˜¯æ ‘èŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥æ·»åŠ å…ƒç´ 
6. è¯¥ä½ç½®èŠ‚ç‚¹ä¸æ˜¯æ ‘èŠ‚ç‚¹ï¼Œåˆ™è¿›è¡Œéå†ï¼Œæ‰¾åˆ°å°¾èŠ‚ç‚¹ï¼Œä½¿ç”¨å°¾æ’æ³•å°†å…ƒç´ æ’å…¥åˆ°é“¾è¡¨å°¾éƒ¨ï¼›éå†çš„è¿‡ç¨‹ä¸­ä¼šåˆ¤æ–­é“¾è¡¨çš„å…ƒç´ ä¸ªæ•°æ˜¯å¦è¾¾åˆ° 8ï¼Œå¦‚æœè¾¾åˆ° 8ï¼Œå¹¶ä¸” hash è¡¨çš„å…ƒç´ ä¸ªæ•°è¶…è¿‡äº† 64ï¼Œé‚£ä¹ˆå¼€å§‹è¿›è¡Œæ ‘åŒ–ï¼›å¦‚æœé“¾è¡¨èŠ‚ç‚¹ä¸ªæ•°è¾¾åˆ°äº† 8ï¼Œä½†æ˜¯ hash è¡¨çš„å…ƒç´ ä¸ªæ•°å°‘äº 64ï¼Œé‚£ä¹ˆç›´æ¥è¿›è¡Œæ‰©å®¹

## ğŸ“Œ HashMap çš„é•¿åº¦ä¸ºä»€ä¹ˆæ˜¯ 2 çš„å¹‚æ¬¡æ–¹

## ğŸ“Œ HashMap å¤šçº¿ç¨‹æ“ä½œå¯¼è‡´æ­»å¾ªç¯é—®é¢˜

[HashMap å¤šçº¿ç¨‹æ“ä½œå¯¼è‡´æ­»å¾ªç¯é—®é¢˜](https://coolshell.cn/articles/9606.html)

## ğŸ“Œ å¦‚ä½•å†³å®šä½¿ç”¨ HashMap è¿˜æ˜¯ TreeMapï¼Ÿ

å¦‚æœåªæ˜¯å¯¹å…ƒç´ è¿›è¡Œæ’å…¥ï¼Œåˆ é™¤ï¼Œå®šä½å…ƒç´ è¿™ç±»æ“ä½œï¼ŒHashMap æ˜¯æœ€å¥½çš„é€‰æ‹©ï¼›å¦‚æœéœ€è¦ç»™å…ƒç´ æ’åºï¼Œå°±æ˜¯ç”¨ TreeMap

## ğŸ“Œ è¯´ä¸€ä¸‹å¿«é€Ÿå¤±è´¥æœºåˆ¶å’Œå®‰å…¨å¤±è´¥æœºåˆ¶

### å¿«é€Ÿå¤±è´¥

### å®‰å…¨å¤±è´¥

å‚è€ƒï¼š

- [é›†åˆçš„å¿«é€Ÿå¤±è´¥å’Œå®‰å…¨å¤±è´¥](https://segmentfault.com/a/1190000039897519)

## ğŸ“Œ ä¸ºä»€ä¹ˆè¯´ hashMap çº¿ç¨‹ä¸å®‰å…¨

#### JDK 1.8

- ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è¿›è¡Œ put æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼›å› ä¸ºä¸¤ä¸ªçº¿ç¨‹åŒæ—¶ putï¼Œkey å¯èƒ½ç›¸åŒï¼Œçº¿ç¨‹ 1 å¯èƒ½ä¼šè¦†ç›–çº¿ç¨‹ 2 çš„å€¼
- å½“ put å’Œ get åŒæ—¶è¿›è¡Œæ—¶ï¼Œhash è¡¨æ‰©å®¹ï¼Œå¯èƒ½ä¼šå¯¼è‡´ get è·å–åˆ°ç©ºå€¼ï¼›å› ä¸ºæ‰©å®¹æ—¶ï¼Œput çº¿ç¨‹ä¼šæ–°å»ºä¸€ä¸ªç©ºçš„ hash è¡¨ï¼Œget çº¿ç¨‹è·å–å…ƒç´ ï¼Œå¯èƒ½æ‹¿åˆ°çš„æ˜¯ null å€¼

#### JDK 1.7

- å¹¶å‘æ‰©å®¹æ—¶ï¼Œå¯èƒ½ä¼šå½¢æˆå¾ªç¯é“¾è¡¨ï¼Œget å…ƒç´ æ—¶ï¼Œä¼šå‡ºç°æ­»å¾ªç¯ï¼›å› ä¸º 1.7 ä¸­é“¾è¡¨å…ƒç´ è¿ç§»ä½¿ç”¨çš„æ˜¯å¤´æ’æ³•ï¼Œå¹¶å‘æ‰©å®¹æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°å¾ªç¯é“¾è¡¨

# äº”ã€Queue

## ğŸ“Œ åœ¨ Queue ä¸­ poll()å’Œ remove()æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

poll()å’Œ remove()éƒ½æ˜¯å–å‡ºå¹¶åˆ é™¤é˜Ÿé¦–çš„å…ƒç´ ï¼ŒåŒºåˆ«æ˜¯é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œpoll()è¿”å› nullï¼Œè€Œ remove æŠ›å‡ºå¼‚å¸¸

## ğŸ“Œ æ€ä¹ˆç¡®ä¿ä¸€ä¸ªé›†åˆä¸èƒ½è¢«ä¿®æ”¹ï¼Ÿ

Collections åŒ…ä¸‹çš„ unmodifiableMap æ–¹æ³•ï¼Œè£…é¥°ä¼ å…¥çš„ mapï¼Œå½“è°ƒç”¨ä»»ä½•ä¿®æ”¹æ–¹æ³•æ—¶ï¼Œä¼šæŠ›å‡º UnsupportedOperationException å¼‚å¸¸

```go
Map<String, Object> map = new HashMap<>();
map.put("name", "lizza");
map.put("age", 18);
System.out.println(map);
map = Collections.unmodifiableMap(map);
map.put("name", "john");
System.out.println(map);
```

## ğŸ“Œ  Java ä¸­çš„å»¶æ—¶é˜Ÿåˆ—

- å‚è€ƒï¼š[6 ç§ å»¶æ—¶é˜Ÿåˆ—çš„å®ç°æ–¹æ¡ˆ - æ€å¦](https://segmentfault.com/a/1190000022718540)
- å‚è€ƒï¼š[ä½ çœŸçš„çŸ¥é“æ€ä¹ˆå®ç°ä¸€ä¸ªå»¶è¿Ÿé˜Ÿåˆ—å—  - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/266156267)

# å…­ã€Java ä¸­çš„å…¶ä»–æ•°æ®ç»“æ„

## ğŸ“Œ  Java ä¸­ Stack æ˜¯å¦‚ä½•å®ç°çš„

## å‚è€ƒèµ„æ–™

###### ã€1ã€‘[Java æœ€å¸¸è§çš„ 208 é“é¢è¯•é¢˜åŠç­”æ¡ˆ](https://mp.weixin.qq.com/s?__biz=MzIwMTY0NDU3Nw==&mid=2651938314&idx=1&sn=f0578deb60a719b5ec71c6a0fcea4420&chksm=8d0f3144ba78b8522d85329f6575eea356b4da9732dd7c7fb4dc5189ee0d551c6b159bc2e706&scene=21#wechat_redirect)
